<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼ | å°è®©ã®ç³–æœå±‹</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/favicon.ico">
    <script charset="utf-8" async="async" src="/blog/js/jquery.min.js"></script>
    <script charset="utf-8" async="async" src="/blog/js/global.js"></script>
    <script charset="utf-8" async="async" src="/blog/js/fingerprint2.min.js"></script>
    <script>
              var _hmt = _hmt || [];
              (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?0b31b4c146bf7126aed5009e1a4a11c8";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
              })();
            </script>
    <meta name="description" content="åŒ…å«: Java åŸºç¡€, Javaè®¾è®¡æ¨¡å¼, æ•°æ®ç»“æ„ä¸ç®—æ³•, æºç åˆ†æ...">
    <meta property="article:modified_time" content="2022-11-12T04:44:27.000Z">
    <meta property="og:title" content="Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html">
    <meta name="twitter:title" content="Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼">
    <meta name="twitter:url" content="/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="spring, æºç ">
    <meta property="article:tag" content="spring">
    <meta name="robots" content="all">
    <meta name="author" content="å°è®©">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="keywords" content="å°è®©ã®ç³–æœå±‹, æ•°æ®ç»“æ„ä¸ç®—æ³•, è®¾è®¡æ¨¡å¼, æºç åˆ†æ, JavaåŸºç¡€, å…«è‚¡æ–‡">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/blog/assets/css/0.styles.81cff77c.css" as="style"><link rel="preload" href="/blog/assets/css/styles.css?v=1668302853734" as="style"><link rel="preload" href="/blog/assets/js/cg-styles.js?v=1668302853734" as="script"><link rel="preload" href="/blog/assets/js/cg-app.js?v=1668302853734" as="script"><link rel="preload" href="/blog/assets/js/cg-3.js?v=1668302853734" as="script"><link rel="preload" href="/blog/assets/js/cg-4.js?v=1668302853734" as="script"><link rel="preload" href="/blog/assets/js/cg-27.js?v=1668302853734" as="script">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.81cff77c.css"><link rel="stylesheet" href="/blog/assets/css/styles.css?v=1668302853734">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">å°è®©ã®ç³–æœå±‹</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/md/other/guide-to-reading.html" class="nav-link">
  å¯¼è¯»
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/md/æ•°æ®ç»“æ„ä¸ç®—æ³•/æ•°æ®ç»“æ„/" class="nav-link">
  æ•°æ®ç»“æ„
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/æ•°æ®ç»“æ„ä¸ç®—æ³•/ç®—æ³•/æ’åºç®—æ³•/å†’æ³¡æ’åº.html" class="nav-link">
  ç®—æ³•ä¸»é¢˜
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/md/java/interview/HashMap.html" class="nav-link">
  é¢è¯•å®å…¸
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/java/core/" class="nav-link">
  åŸºç¡€æŠ€æœ¯
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springå…¨å®¶æ¡¶" class="dropdown-title"><span class="title">Springå…¨å®¶æ¡¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/IOC/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/springå…¨å®¶æ¡¶/springmvc/åŸºç¡€/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/springå…¨å®¶æ¡¶/spring-security/åŸºç¡€/" class="nav-link">
  SpringSecurity
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/md/other/guide-to-reading.html" class="nav-link">
  å¯¼è¯»
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/md/æ•°æ®ç»“æ„ä¸ç®—æ³•/æ•°æ®ç»“æ„/" class="nav-link">
  æ•°æ®ç»“æ„
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/æ•°æ®ç»“æ„ä¸ç®—æ³•/ç®—æ³•/æ’åºç®—æ³•/å†’æ³¡æ’åº.html" class="nav-link">
  ç®—æ³•ä¸»é¢˜
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/md/java/interview/HashMap.html" class="nav-link">
  é¢è¯•å®å…¸
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/java/core/" class="nav-link">
  åŸºç¡€æŠ€æœ¯
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springå…¨å®¶æ¡¶" class="dropdown-title"><span class="title">Springå…¨å®¶æ¡¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/IOC/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/springå…¨å®¶æ¡¶/springmvc/åŸºç¡€/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/blog/md/springå…¨å®¶æ¡¶/spring-security/åŸºç¡€/" class="nav-link">
  SpringSecurity
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SpringåŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/IOC.html" class="sidebar-link">Spring-IOC</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/AOP.html" class="sidebar-link">Spring-AOP</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/JDBC.html" class="sidebar-link">Spring-JDBC</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/äº‹åŠ¡.html" class="sidebar-link">Springäº‹åŠ¡</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/åŸºç¡€/Springæ³¨è§£é©±åŠ¨å¼€å‘.html" class="sidebar-link">Springæ³¨è§£é©±åŠ¨å¼€å‘</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Springæºç åˆ†æ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Springæºç ç¯å¢ƒæ­å»º.html" class="sidebar-link">Springæºç ç¯å¢ƒæ­å»º</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼.html" class="active sidebar-link">Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Spring-BeanDefinitionåŠ è½½æµç¨‹åˆ†æ.html" class="sidebar-link">Spring-BeanDefinitionåŠ è½½æµç¨‹åˆ†æ</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Spring-ConfigurationClassPostProcessoråç½®å¤„ç†å™¨è¯¦è§£.html" class="sidebar-link">Spring-ConfigurationClassPostProcessoråç½®å¤„ç†å™¨è¯¦è§£</a></li><li><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Springäº‹ä»¶è®¢é˜…ä¸å‘å¸ƒåŸç†åˆ†æ.html" class="sidebar-link">Springäº‹ä»¶è®¢é˜…ä¸å‘å¸ƒåŸç†åˆ†æ</a></li></ul></section></li></ul> </aside> <div><main class="page"> <div class="theme-default-content content__default"><h2 id="_1-ç¯å¢ƒæ­å»º"><a href="#_1-ç¯å¢ƒæ­å»º" class="header-anchor">#</a> 1. ç¯å¢ƒæ­å»º</h2> <p>åˆ©ç”¨ <a href="/blog/md/springå…¨å®¶æ¡¶/spring/Springæºç ç¯å¢ƒæ­å»º/">Spring æºç ç¯å¢ƒæ­å»º</a> è¿™ç¯‡æ–‡ç« ä¸­æ­å»ºå¥½çš„ Spring æºç ç¯å¢ƒï¼Œæ€»ç»“ä¸€ä¸‹å¾€ Spring ä¸­æ³¨å†Œ Bean åˆ°åº•æœ‰å‡ ç§æ–¹å¼ã€‚</p> <h3 id="_1-1-åˆ›å»º-spring-import-bean-study-æ¨¡å—"><a href="#_1-1-åˆ›å»º-spring-import-bean-study-æ¨¡å—" class="header-anchor">#</a> 1.1. åˆ›å»º spring-import-bean-study æ¨¡å—</h3> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221024052559.png" loading="lazy" class="lazy"></p> <h3 id="_1-2-å¼•å…¥ç›¸å…³ä¾èµ–"><a href="#_1-2-å¼•å…¥ç›¸å…³ä¾èµ–" class="header-anchor">#</a> 1.2. å¼•å…¥ç›¸å…³ä¾èµ–</h3> <p>åœ¨æ¨¡å—çš„ <code>build.gradle</code> æ–‡ä»¶ä¸­å¼•å…¥ä»¥ä¸‹ä¾èµ–ï¼š</p> <div class="language-gradle line-numbers-mode"><pre class="language-gradle"><code><span class="token keyword">dependencies</span> <span class="token punctuation">{</span>  
    testImplementation <span class="token string">'org.junit.jupiter:junit-jupiter-api:5.9.0'</span>
    testRuntimeOnly <span class="token string">'org.junit.jupiter:junit-jupiter-engine:5.9.0'</span>
    <span class="token function">testImplementation</span><span class="token punctuation">(</span><span class="token keyword">project</span><span class="token punctuation">(</span><span class="token string">':spring-test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">implementation</span><span class="token punctuation">(</span><span class="token keyword">project</span><span class="token punctuation">(</span><span class="token string">':spring-context'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">implementation</span> <span class="token string">'org.slf4j:slf4j-api:2.0.3'</span>
    <span class="token keyword">implementation</span> <span class="token string">'ch.qos.logback:logback-classic:1.4.3'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_1-3-æ—¥å¿—é…ç½®æ–‡ä»¶"><a href="#_1-3-æ—¥å¿—é…ç½®æ–‡ä»¶" class="header-anchor">#</a> 1.3. æ—¥å¿—é…ç½®æ–‡ä»¶</h3> <p>ç”±äºå¼•å…¥äº† <code>logback</code>ï¼Œæ‰€ä»¥éœ€è¦åœ¨èµ„æºç›®å½• <code>resources</code> ä¸‹åˆ›å»ºä¸€ä¸ª <code>logback.xml</code> é…ç½®æ–‡ä»¶ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5p %c{1}:%L - %m%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5p %c{1}:%L - %m%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>log/output.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.FixedWindowRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>log/output.log.%i<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>triggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MaxFileSize</span><span class="token punctuation">&gt;</span></span>1MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MaxFileSize</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>triggeringPolicy</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_1-4-spring-æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#_1-4-spring-æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="header-anchor">#</a> 1.4. Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3> <p>åœ¨èµ„æºç›®å½• <code>resources</code> ä¸‹åˆ›å»ºä¸€ä¸ª Spring çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ <code>applicationContext.xml</code> ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221024053130.png" loading="lazy" class="lazy"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
	   <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
	   <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_2-spring-ä¸­æ³¨å†Œ-bean-çš„æ–¹å¼"><a href="#_2-spring-ä¸­æ³¨å†Œ-bean-çš„æ–¹å¼" class="header-anchor">#</a> 2. Spring ä¸­æ³¨å†Œ Bean çš„æ–¹å¼</h2> <blockquote><p>æ¸©é¦¨æç¤ºï¼šå¯¹äºæœ¬ç¯‡ä¸­çš„æŸäº›çŸ¥è¯†ç‚¹ä¸æ¸…æ¥šçš„å°ä¼™ä¼´å¯ä»¥å…ˆæŸ¥çœ‹åŸºç¡€ç¯‡ä¸­çš„æ–‡ç« ã€‚</p></blockquote> <h3 id="_2-1-xml-é…ç½®æ–‡ä»¶æ–¹å¼"><a href="#_2-1-xml-é…ç½®æ–‡ä»¶æ–¹å¼" class="header-anchor">#</a> 2.1. XML é…ç½®æ–‡ä»¶æ–¹å¼</h3> <p>é¢å‘ Spring å¼€å‘å·²ç»é€æ¸ä»ç¹ççš„ XML é…ç½®æ–‡ä»¶å‘å±•åˆ°ç®€å•å¥½ç”¨çš„æ³¨è§£é©±åŠ¨æ¨¡å¼ï¼Œå°¤å…¶æ˜¯åœ¨ Springboot è¿™æ ·ä¸€æ¬¾å¿«é€Ÿå¼€å‘è„šæ‰‹æ¶ä¸­ï¼Œåº•å±‚å¤§é‡ä½¿ç”¨æ³¨è§£æ¥å®Œæˆå„ç§å„æ ·çš„é«˜çº§åŠŸèƒ½ã€‚</p> <p>ğŸ¤”ï¼šå’±ä»¬ä¸ºä»€ä¹ˆè¿˜è¦ä»‹ç»è¿™ç§æ–¹å¼å‘¢ï¼Ÿ</p> <p>ğŸ¤“ï¼šå’±ä»¬æ˜¯å­¦ä¹ ï¼Œåªæœ‰çŸ¥é“ä½¿ç”¨ XML é…ç½®æ–‡ä»¶æ–¹å¼æ³¨å†Œ Bean æ—¶æœ‰å¤šç—›è‹¦ï¼Œæ‰èƒ½æ·±åˆ»ä½“ä¼šä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å†Œ Bean æ—¶æœ‰å¤šçˆ½ï¼ï¼ˆä¹Ÿå°±åªæœ‰è¯»æºç æ‰çŸ¥é“ Spring åˆ°åº•æœ‰å¤šç‰›ï¼Œå¸®å’±ä»¬åšäº†å¤šå°‘äº‹æƒ…ï¼‰ã€‚</p> <p>ç¼–å†™ä¸€ä¸ªå®ä½“ç±» <code>Student</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;Student{&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
				<span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
				<span class="token char">'}'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>XML é…ç½®æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ï¼šä½¿ç”¨ <code>bean</code> æ ‡ç­¾å¾€ Spring å®¹å™¨ä¸­æ³¨å†Œä¸€ä¸ª <code>Student</code> çš„å•å®ä¾‹ <code>Bean</code>ï¼Œä½¿ç”¨ <code>property</code> æ ‡ç­¾ç»™è¿™ä¸ª <code>Bean</code> å¯¹è±¡çš„ <code>name</code> å’Œ <code>age</code> å±æ€§èµ‹å€¼ã€‚</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
	   <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
	   <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top.xiaorang.importbean.entity.Student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xiaorang<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>åˆ›å»º <code>SpringImportBeanByXmlTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testXml()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Student</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯ä½¿ç”¨ XML é…ç½®æ–‡ä»¶è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token string">&quot;classpath:applicationContext.xml&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ExtendWith</span><span class="token punctuation">(</span><span class="token class-name">SpringExtension</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringImportBeanByXmlTests</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> <span class="token constant">LOGGER</span> <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">SpringImportBeanByXmlTests</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testXml</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Student</span> student <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡ XML é…ç½®æ–‡ä»¶æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221025010000.png" loading="lazy" class="lazy"></p> <h3 id="_2-2-configuration-bean"><a href="#_2-2-configuration-bean" class="header-anchor">#</a> 2.2. @Configuration + @Bean</h3> <p>åœ¨ä¸Šé¢å·²ç»ç®€å•æ¼”ç¤ºå¦‚ä½•é€šè¿‡ XML é…ç½®æ–‡ä»¶çš„æ–¹å¼å°† <code>JavaBean</code> å¯¹è±¡æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­ã€‚é‚£ä¹ˆä½¿ç”¨æ³¨è§£çš„æ–¹å¼åˆè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿä½¿ç”¨æ³¨è§£çš„æ–¹å¼æ¯”ä½¿ç”¨ XML é…ç½®æ–‡ä»¶çš„æ–¹å¼è¦ç®€å•çš„å¤šï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªç±»ï¼Œå¹¶ <strong>åœ¨è¯¥ç±»ä¸Šæ·»åŠ  <code>@Configuration</code> æ³¨è§£ç”¨æ¥æ ‡è¯†è¯¥ç±»æ˜¯ Spring ä¸­çš„ä¸€ä¸ªé…ç½®ç±»</strong>ï¼Œæœ€å <strong>é€šè¿‡åœ¨è¯¥ç±»ä¸­çš„æŸä¸ªæ–¹æ³•ä¸Šæ·»åŠ  <code>@Bean</code> æ³¨è§£æ ‡è¯†å°†è¯¥æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­</strong>ã€‚è¿™ç§æ–¹å¼é€‚ç”¨äºå°†ç¬¬ä¸‰æ–¹ç±»åº“ä¸­çš„ç±»æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­ã€‚</p> <p>ç¼–å†™é…ç½®ç±»ï¼šåœ¨ <code>MainConfig</code> ç±»ä¸Šæ·»åŠ  <code>@Configuration</code> æ³¨è§£ï¼Œåœ¨ <code>student()</code> æ–¹æ³•ä¸Šæ·»åŠ  <code>@Bean</code> æ³¨è§£ï¼Œæ–¹æ³•è¿”å›åˆ›å»ºçš„ <code>Student</code> ç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobai&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åˆ›å»º <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testConfigurationWithBeanMethod()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Student</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯ä½¿ç”¨ <code>@Configuration</code> æ³¨è§£æ­é… <code>@Bean</code> æ³¨è§£è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">MainConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ExtendWith</span><span class="token punctuation">(</span><span class="token class-name">SpringExtension</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringImportBeanByAnnotationTests</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> <span class="token constant">LOGGER</span> <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">SpringImportBeanByAnnotationTests</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testConfigurationWithBeanMethod</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Student</span> student <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡ <code>@Configuration</code> æ³¨è§£æ­é… <code>@Bean</code> æ³¨è§£æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221025010342.png" loading="lazy" class="lazy"></p> <h3 id="_2-3-component-componentscan"><a href="#_2-3-component-componentscan" class="header-anchor">#</a> 2.3. @Component + @ComponentScan</h3> <p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæ›´å¤šçš„æ˜¯ä½¿ç”¨ Spring çš„åŒ…æ‰«æåŠŸèƒ½å¯¹é¡¹ç›®ä¸­çš„åŒ…è¿›è¡Œæ‰«æï¼Œå‡¡æ˜¯åœ¨æŒ‡å®šçš„åŒ…åŠå…¶å­åŒ…ä¸­æ ‡æ³¨äº† <code>@Repository</code>ã€<code>@Service</code>ã€<code>@Controller</code> å’Œ <code>@Component</code> æ³¨è§£çš„ç±»éƒ½ä¼šè¢«æ‰«æåˆ°ï¼Œç„¶åæ³¨å†Œåˆ° Spring å®¹å™¨ä¸­ã€‚</p> <p>ğŸ¤”ï¼šä¸ºä»€ä¹ˆæ˜¯æ‰«ææ ‡æ³¨äº† <code>@Repository</code>ã€<code>@Service</code>ã€<code>@Controller</code> å’Œ <code>@Component</code> æ³¨è§£çš„ç±»ï¼Ÿ</p> <p>ğŸ¤“ï¼šåœ¨ <code>@ComponentScan</code> æ³¨è§£çš„å®šä¹‰ä¸­ <code>useDefaultFilters</code> å±æ€§å·²ç»æŒ‡å‡ºä¼šè‡ªåŠ¨æ‰«ææ ‡æ³¨ <code>@Repository</code>ã€<code>@Service</code>ã€<code>@Controller</code> å’Œ <code>@Component</code> æ³¨è§£çš„ç±»ã€‚å…¶å®å»æŸ¥çœ‹ <code>@Repository</code>ã€<code>@Service</code>ã€<code>@Controller</code> æ³¨è§£çš„å®šä¹‰å°±å¯ä»¥å‘ç°ï¼Œå…¶å®è¿™ä¸‰ä¸ªæ³¨è§£æœ¬è´¨ä¸Šè¿˜æ˜¯ <code>@Component</code> æ³¨è§£ã€‚</p> <p><img alt="|1081" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221025011013.png" loading="lazy" class="lazy"></p> <p>ç¼–å†™ä¸‰ä¸ªåˆ†åˆ«ä½¿ç”¨ <code>@Repository</code>ã€<code>@Service</code>ã€<code>@Controller</code> æ³¨è§£æ ‡æ³¨çš„ç±»ã€‚</p> <p>å¯ä»¥çœ‹åˆ°åœ¨ <code>OrderController</code> ç±»ä¸­éœ€è¦ä» Spring å®¹å™¨ä¸­è·å–ä¸€ä¸ª <code>OrderService</code> ç±»çš„ç»„ä»¶ï¼Œè€Œ <code>OrderService</code> ç±»éœ€è¦ä» Spring å®¹å™¨è·å–ä¸€ä¸ª <code>OrderRepository</code> ç±»çš„ç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">OrderService</span> orderService<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">OrderController</span><span class="token punctuation">(</span><span class="token class-name">OrderService</span> orderService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>orderService <span class="token operator">=</span> orderService<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;OrderController{&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;orderService=&quot;</span> <span class="token operator">+</span> orderService <span class="token operator">+</span>
				<span class="token char">'}'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderService</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">OrderRepository</span> orderRepository<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">OrderService</span><span class="token punctuation">(</span><span class="token class-name">OrderRepository</span> orderRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>orderRepository <span class="token operator">=</span> orderRepository<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;OrderService{&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;orderRepository=&quot;</span> <span class="token operator">+</span> orderRepository <span class="token operator">+</span>
				<span class="token char">'}'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderRepository</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä¿®æ”¹é…ç½®ç±» <code>MainConfig</code>ï¼Œåœ¨ç±»ä¸Šå¢åŠ  <code>@ComponentScan</code> æ³¨è§£ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;top.xiaorang.importbean&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobai&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testConfigurationWithBeanMethod()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>OrderController</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡ <code>@ComponentScan</code> æ³¨è§£æ­é… <code>@Component</code> æ³¨è§£è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testComponentScanWithComponent</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">OrderController</span> orderController <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">OrderController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>orderController<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡ <code>@ComponentScan</code> æ³¨è§£æ­é… <code>@Component</code> æ³¨è§£æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221025012958.png" loading="lazy" class="lazy"></p> <h3 id="_2-4-å®ç°-factorybean-æ¥å£"><a href="#_2-4-å®ç°-factorybean-æ¥å£" class="header-anchor">#</a> 2.4. å®ç° FactoryBean æ¥å£</h3> <p>è¿™ç§æ–¹å¼åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸€äº›æ¡†æ¶æ•´åˆä¸Šç”¨çš„æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚åœ¨ <code>Spring</code> ä¸ <code>Mybatis</code> æ•´åˆä¸­çš„ <code>MapperFactoryBean</code>ã€<code>SqlSessionFactoryBean</code>ã€‚</p> <p>ç¼–å†™å®ä½“ç±» <code>User</code>ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> username<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> password<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;User{&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;username='&quot;</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
				<span class="token string">&quot;, password='&quot;</span> <span class="token operator">+</span> password <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
				<span class="token char">'}'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>ç¼–å†™å·¥å‚ç±» <code>UserFactoryBean</code>ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserFactoryBean</span> <span class="token keyword">implements</span> <span class="token class-name">FactoryBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;sanshi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getObjectType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testFactoryBean()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>User</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡å®ç° <code>FactoryBean</code> æ¥å£è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFactoryBean</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡å®ç° <code>FactoryBean</code> æ¥å£æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/Pasted%20image%2020221025014933.png" loading="lazy" class="lazy"></p> <h3 id="_2-5-import"><a href="#_2-5-import" class="header-anchor">#</a> 2.5. @Import</h3> <p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œè‡ªå·±å†™çš„ç±»å¯ä»¥é€šè¿‡åŒ…æ‰«æï¼ˆ<code>@ComponentScan</code> æ³¨è§£æ­é… <code>@Component</code> æ³¨è§£ï¼‰çš„æ–¹å¼å°† <code>Bean</code> å¯¹è±¡æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ¯”è¾ƒæœ‰å±€é™æ€§ï¼Œåªèƒ½åœ¨è‡ªå·±å†™çš„ç±»ä¸Šæ ‡æ³¨ <code>@Component</code> æ³¨è§£ã€‚å¦‚æœä¸æ˜¯è‡ªå·±çš„ç±»ï¼Œå¦‚å¼•å…¥çš„ä¸€äº›ç¬¬ä¸‰æ–¹ç±»åº“ä¸­çš„ç±»ï¼Œé‚£ä¹ˆå¦‚ä½•å°†è¿™æ ·çš„ç±»æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­å‘¢ï¼Ÿé™¤äº†å‰é¢æåˆ°è¿‡çš„ä¸€ç§è§£å†³æ–¹æ³• <code>@Cofinguration</code> æ³¨è§£æ­é… <code>@Bean</code> æ³¨è§£ä¹‹å¤–ï¼Œç°åœ¨ä»‹ç»å¦å¤–ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨ <code>@Import</code> æ³¨è§£å¿«é€Ÿå‘ Spring å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">)</span>  
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>  
<span class="token annotation punctuation">@Documented</span>  
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Import</span> <span class="token punctuation">{</span>  
   <span class="token comment">/**  
    * {@link Configuration @Configuration}, {@link ImportSelector},  
    * {@link ImportBeanDefinitionRegistrar}, or regular component classes to import.  
    */</span>   
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_2-5-1-ç®€å•çš„ç±»"><a href="#_2-5-1-ç®€å•çš„ç±»" class="header-anchor">#</a> 2.5.1. ç®€å•çš„ç±»</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä¿®æ”¹é…ç½®ç±» <code>MainConfig</code>ï¼Œåœ¨ç±»ä¸Šå¢åŠ  <code>@Import</code> æ³¨è§£ï¼Œå‘å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ª <code>Color</code> ç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;top.xiaorang.importbean&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobai&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testImportSimpleClass()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Color</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡ <code>@Import</code> æ³¨è§£ + ç®€å•çš„ç±»è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testImportSimpleClass</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Color</span> color <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡ <code>@Import</code> æ³¨è§£ + ç®€å•çš„ç±»æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/202211021631902.png" loading="lazy" class="lazy"></p> <h4 id="_2-5-2-importselector-æ¥å£å®ç°ç±»"><a href="#_2-5-2-importselector-æ¥å£å®ç°ç±»" class="header-anchor">#</a> 2.5.2. ImportSelector æ¥å£å®ç°ç±»</h4> <p><code>ImportSelector</code> æ¥å£æ˜¯ Spring ä¸­å¯¼å…¥å¤–éƒ¨é…ç½®çš„æ ¸å¿ƒæ¥å£ã€‚ç°åœ¨æ¥çœ‹çœ‹ <code>ImportSelector</code> æ¥å£çš„æºç ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ImportSelector</span> <span class="token punctuation">{</span>  
  
   <span class="token comment">/**  
    * Select and return the names of which class(es) should be imported based on    
    * the {@link AnnotationMetadata} of the importing @{@link Configuration} class.  
    * @return the class names, or an empty array if none  
    */</span>   
	<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">selectImports</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
   <span class="token comment">/**  
    * Return a predicate for excluding classes from the import candidates, to be    
    * transitively applied to all classes found through this selector's imports.    
    * &lt;p&gt;If this predicate returns {@code true} for a given fully-qualified  
    * class name, said class will not be considered as an imported configuration    
    * class, bypassing class file loading as well as metadata introspection.    
    * @return the filter predicate for fully-qualified candidate class names  
    * of transitively imported configuration classes, or {@code null} if none  
    * @since 5.2.4  
    */</span>   
	<span class="token annotation punctuation">@Nullable</span>  
	<span class="token keyword">default</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getExclusionFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
	<span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><code>ImportSelector</code> æ¥å£ä¸»è¦ä½œç”¨æ˜¯æ”¶é›†éœ€è¦å¯¼å…¥çš„é…ç½®ç±»ï¼Œå…¶ä¸­çš„ <code>selectImports()</code> æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ <strong>éœ€è¦å‘ Spring å®¹å™¨ä¸­å¯¼å…¥çš„ç±»çš„<u>å®Œå…¨é™å®šå</u></strong>ã€‚å¦‚æœè¯¥æ¥å£çš„å®ç°ç±»åŒæ—¶å®ç° <code>EnvironmentAware</code>ã€<code>BeanFactoryAware</code>ã€<code>BeanClassLoaderAware</code> å’Œ <code>ResourceLoaderAware</code> æ¥å£ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨å…¶ <code>selectImports()</code> æ–¹æ³•ä¹‹å‰ä¼šå…ˆè°ƒç”¨ä¸Šè¿°æ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚æœéœ€è¦åœ¨æ‰€æœ‰çš„ <code>@Configuration</code> ç±»å¤„ç†å®Œå†å¯¼å…¥ï¼Œé‚£ä¹ˆå¯ä»¥å®ç° <code>DeferredImportSelector</code> æ¥å£ã€‚<br>
åœ¨ <code>selectImports()</code> æ–¹æ³•ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ª <code>AnnotationMetadata</code> ç±»å‹çš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°èƒ½å¤Ÿè·å–åˆ°å½“å‰æ ‡æ³¨ <code>@Import</code> æ³¨è§£çš„ç±»çš„æ‰€æœ‰æ³¨è§£ä¿¡æ¯ï¼Œä¹Ÿå°±è¯´ä¸ä»…èƒ½è·å–åˆ° <code>@Import</code> æ³¨è§£é‡Œé¢çš„ä¿¡æ¯ï¼Œè¿˜èƒ½è·å–åˆ°ç±»ä¸Šå…¶ä»–æ³¨è§£çš„ä¿¡æ¯ã€‚</p> <p>ç°åœ¨å’±ä»¬è‡ªå®šä¹‰ä¸€ä¸ª <code>ImportSelector</code> æ¥å£çš„å®ç°ç±» <code>MyImportSelector</code>ï¼Œå‘å®¹å™¨ä¸­å¯¼å…¥ <code>Yellow</code> å’Œ <code>Blue</code> ä¸¤ä¸ªç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Yellow</span> <span class="token punctuation">{</span>
	
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Blue</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyImportSelector</span> <span class="token keyword">implements</span> <span class="token class-name">ImportSelector</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">selectImports</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;top.xiaorang.importbean.entity.Yellow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;top.xiaorang.importbean.entity.Blue&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>ä¿®æ”¹é…ç½®ç±» <code>MainConfig</code>ï¼Œåœ¨ç±»ä¸Šæ ‡æ³¨çš„ <code>@Import</code> æ³¨è§£çš„ <code>value</code> å±æ€§ä¸­å¢åŠ è‡ªå®šä¹‰çš„ <code>ImportSelector</code> æ¥å£å®ç°ç±» <code>MyImportSelector</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;top.xiaorang.importbean&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobai&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testImportSelector()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Yellow</code> å’Œ <code>Blue</code> ä¸¤ä¸ª ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡ <code>@Import</code> æ³¨è§£ + <code>ImportSelector</code> æ¥å£å®ç°ç±»è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testImportSelector</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Yellow</span> yellow <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Yellow</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>yellow<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Blue</span> blue <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Blue</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>blue<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡ <code>@Import</code> æ³¨è§£ + <code>ImportSelector</code> æ¥å£å®ç°ç±»æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/202211021705795.png" loading="lazy" class="lazy"></p> <h4 id="_2-5-3-importbeandefinitionregistrar-æ¥å£å®ç°ç±»"><a href="#_2-5-3-importbeandefinitionregistrar-æ¥å£å®ç°ç±»" class="header-anchor">#</a> 2.5.3. ImportBeanDefinitionRegistrar æ¥å£å®ç°ç±»</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ImportBeanDefinitionRegistrar</span> <span class="token punctuation">{</span>

	<span class="token comment">/**
	 * Register bean definitions as necessary based on the given annotation metadata of
	 * the importing {@code @Configuration} class.
	 * &lt;p&gt;Note that {@link BeanDefinitionRegistryPostProcessor} types may &lt;em&gt;not&lt;/em&gt; be
	 * registered here, due to lifecycle constraints related to {@code @Configuration}
	 * class processing.
	 * &lt;p&gt;The default implementation delegates to
	 * {@link #registerBeanDefinitions(AnnotationMetadata, BeanDefinitionRegistry)}.
	 * @param importingClassMetadata annotation metadata of the importing class
	 * @param registry current bean definition registry
	 * @param importBeanNameGenerator the bean name generator strategy for imported beans:
	 * {@link ConfigurationClassPostProcessor#IMPORT_BEAN_NAME_GENERATOR} by default, or a
	 * user-provided one if {@link ConfigurationClassPostProcessor#setBeanNameGenerator}
	 * has been set. In the latter case, the passed-in strategy will be the same used for
	 * component scanning in the containing application context (otherwise, the default
	 * component-scan naming strategy is {@link AnnotationBeanNameGenerator#INSTANCE}).
	 * @since 5.2
	 * @see ConfigurationClassPostProcessor#IMPORT_BEAN_NAME_GENERATOR
	 * @see ConfigurationClassPostProcessor#setBeanNameGenerator
	 */</span>
	<span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">,</span> <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">,</span>
			<span class="token class-name">BeanNameGenerator</span> importBeanNameGenerator<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span>importingClassMetadata<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Register bean definitions as necessary based on the given annotation metadata of
	 * the importing {@code @Configuration} class.
	 * &lt;p&gt;Note that {@link BeanDefinitionRegistryPostProcessor} types may &lt;em&gt;not&lt;/em&gt; be
	 * registered here, due to lifecycle constraints related to {@code @Configuration}
	 * class processing.
	 * &lt;p&gt;The default implementation is empty.
	 * @param importingClassMetadata annotation metadata of the importing class
	 * @param registry current bean definition registry
	 */</span>
	<span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">,</span> <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>ç”±æºç å¯ä»¥çœ‹å‡ºï¼Œåœ¨ <code>ImportBeanDefinitionRegistrar</code> æ¥å£ä¸­æœ‰ä¸€ä¸ª <code>registerBeanDefinitions()</code> æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•å¯ä»¥å‘ Spring å®¹å™¨æ³¨å†Œ bean çš„å®šä¹‰ä¿¡æ¯ï¼Œåç»­åœ¨å®ä¾‹åŒ–æ‰€æœ‰éæ‡’åŠ è½½çš„å•å®ä¾‹ bean é˜¶æ®µæ ¹æ® bean çš„å®šä¹‰ä¿¡æ¯å»åˆ›å»º bean çš„å®ä¾‹å¯¹è±¡ã€‚æ‰€æœ‰å®ç°äº† <code>ImportBeanDefinitionRegistrar</code> æ¥å£çš„ç±»éƒ½ä¼šè¢« <code>ConfigurationClassPostProcessor</code> åç½®å¤„ç†å™¨å¤„ç†ï¼Œ<code>ConfigurationClassPostProcessor</code> å®ç°äº† <code>BeanFactoryPostProcessor</code> æ¥å£ï¼Œ<code>ConfigurationClassPostProcessor</code> åç½®å¤„ç†å™¨éå¸¸é‡è¦ï¼ï¼ï¼åœ¨è¿™ç¯‡ <a href="/blog/md/springå…¨å®¶æ¡¶/spring/Spring-ConfigurationClassPostProcessoråç½®å¤„ç†å™¨è¯¦è§£/">Spring-ConfigurationClassPostProcessoråç½®å¤„ç†å™¨è¯¦è§£</a> æºç åˆ†ææ–‡ç« ä¸­å¯¹å…¶è¿›è¡Œäº†è¯¦ç»†åœ°å‰–æï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p> <p>ç°åœ¨å’±ä»¬è‡ªå®šä¹‰ä¸€ä¸ª <code>ImportBeanDefinitionRegistrar</code> æ¥å£çš„å®ç°ç±» <code>MyImportBeanDefinitionRegistrar</code>ï¼Œå‘å®¹å™¨ä¸­å¯¼å…¥ <code>Rainbow</code> ç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rainbow</span> <span class="token punctuation">{</span>
	
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyImportBeanDefinitionRegistrar</span> <span class="token keyword">implements</span> <span class="token class-name">ImportBeanDefinitionRegistrar</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">,</span> <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">,</span> <span class="token class-name">BeanNameGenerator</span> importBeanNameGenerator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">RootBeanDefinition</span> rootBeanDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RootBeanDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		rootBeanDefinition<span class="token punctuation">.</span><span class="token function">setBeanClass</span><span class="token punctuation">(</span><span class="token class-name">Rainbow</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		registry<span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;rainbow&quot;</span><span class="token punctuation">,</span> rootBeanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ä¿®æ”¹é…ç½®ç±» <code>MainConfig</code>ï¼Œåœ¨ç±»ä¸Šæ ‡æ³¨çš„ <code>@Import</code> æ³¨è§£çš„ <code>value</code> å±æ€§ä¸­å¢åŠ è‡ªå®šä¹‰çš„ <code>ImportBeanDefinitionRegistrar</code> æ¥å£å®ç°ç±» <code>MyImportBeanDefinitionRegistrar</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;top.xiaorang.importbean&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyImportBeanDefinitionRegistrar</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobai&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testImportBeanDefinitionRegistrar()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Rainbow</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡ <code>@Import</code> æ³¨è§£ + <code>ImportBeanDefinitionRegistrar</code> æ¥å£å®ç°ç±»è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testImportBeanDefinitionRegistrar</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Rainbow</span> rainbow <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Rainbow</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>rainbow<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡ <code>@Import</code> æ³¨è§£ + <code>ImportBeanDefinitionRegistrar</code> æ¥å£å®ç°ç±»æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="image-20221102174735763" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/202211021747831.png" loading="lazy" class="lazy"></p> <h3 id="_2-6-å®ç°-beandefinitionregistrypostprocessor-åç½®å¤„ç†å™¨æ¥å£"><a href="#_2-6-å®ç°-beandefinitionregistrypostprocessor-åç½®å¤„ç†å™¨æ¥å£" class="header-anchor">#</a> 2.6. å®ç° BeanDefinitionRegistryPostProcessor åç½®å¤„ç†å™¨æ¥å£</h3> <p>è¿™ç§æ–¹å¼åœ¨æ—¥å¸¸å¼€å‘ä¸­å¹¶ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ Spring çš„åº•å±‚æºç ä¸­å´å¾ˆå¸¸è§ï¼Œå…¶ä¸­ <code>ConfigurationClassPostProcessor</code> åç½®å¤„ç†å™¨å°±å®ç°äº†è¯¥æ¥å£ï¼Œè¯¥åç½®å¤„ç†å™¨ç”¨äºè§£æ <code>@Component</code>ã€<code>@Configuration</code>ã€<code>@ComponentScan</code>ã€<code>@Import</code> ç­‰æ³¨è§£ï¼Œç”¨äºå‘å®¹å™¨ä¸­æ³¨å†Œ bean çš„å®šä¹‰ä¿¡æ¯ã€‚</p> <p>ç°åœ¨å’±ä»¬è‡ªå®šä¹‰ä¸€ä¸ª <code>BeanDefinitionRegistryPostProcessor</code> æ¥å£çš„å®ç°ç±» <code>MyBeanDefinitionRegistryPostProcessor</code>ï¼Œå‘å®¹å™¨ä¸­å¯¼å…¥ <code>Cat</code> ç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanDefinitionRegistryPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanDefinitionRegistryPostProcessor</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanDefinitionRegistry</span><span class="token punctuation">(</span><span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
		<span class="token class-name">RootBeanDefinition</span> rootBeanDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RootBeanDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		rootBeanDefinition<span class="token punctuation">.</span><span class="token function">setBeanClass</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		registry<span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> rootBeanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦å°† <code>MyBeanDefinitionRegistryPostProcessor</code> åç½®å¤„ç†å™¨æ ‡æ³¨ <code>@Component</code> æ³¨è§£ï¼Œå³å°† <code>MyBeanDefinitionRegistryPostProcessor</code> åç½®å¤„ç†å™¨æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­ï¼Œè¿™æ · <code>MyBeanDefinitionRegistryPostProcessor</code> åç½®å¤„ç†å™¨çš„æ³¨å†ŒåŠŸèƒ½æ‰èƒ½ç”Ÿæ•ˆã€‚</p> <p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testBeanDefinitionRegistryPostProcessor()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Cat</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡å®ç° <code>BeanDefinitionRegistryPostProcessor</code> åç½®å¤„ç†å™¨æ¥å£è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testBeanDefinitionRegistryPostProcessor</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Cat</span> cat <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡å®ç° <code>BeanDefinitionRegistryPostProcessor</code> åç½®å¤„ç†å™¨æ¥å£æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="image-20221102180411929" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/202211021804998.png" loading="lazy" class="lazy"></p> <h3 id="_2-7-å®ç°-beanfactorypostprocessor-åç½®å¤„ç†å™¨æ¥å£"><a href="#_2-7-å®ç°-beanfactorypostprocessor-åç½®å¤„ç†å™¨æ¥å£" class="header-anchor">#</a> 2.7. å®ç° BeanFactoryPostProcessor åç½®å¤„ç†å™¨æ¥å£</h3> <p>è¯¥åç½®å¤„ç†å™¨æ¥å£ <code>BeanFactoryPostProcessor</code> å…¶å®æ˜¯ä¸Šä¸€ç§æ–¹å¼ä¸­ <code>BeanDefinitionRegistryPostProcessor</code> åç½®å¤„ç†å™¨æ¥å£çš„çˆ¶ç±»ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å‘å®¹å™¨ä¸­æ³¨å†Œ bean çš„å®šä¹‰ä¿¡æ¯ã€‚</p> <p>ç°åœ¨å’±ä»¬è‡ªå®šä¹‰ä¸€ä¸ª <code>BeanFactoryPostProcessor</code> æ¥å£çš„å®ç°ç±» <code>MyBeanFactoryPostProcessor</code>ï¼Œå‘å®¹å™¨ä¸­å¯¼å…¥ <code>Game</code> ç»„ä»¶ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanFactoryPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanFactoryPostProcessor</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>beanFactory <span class="token keyword">instanceof</span> <span class="token class-name">BeanDefinitionRegistry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">BeanDefinitionRegistry</span> beanDefinitionRegistry <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BeanDefinitionRegistry</span><span class="token punctuation">)</span> beanFactory<span class="token punctuation">;</span>
			<span class="token class-name">RootBeanDefinition</span> rootBeanDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RootBeanDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			rootBeanDefinition<span class="token punctuation">.</span><span class="token function">setBeanClass</span><span class="token punctuation">(</span><span class="token class-name">Game</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			beanDefinitionRegistry<span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;game&quot;</span><span class="token punctuation">,</span> rootBeanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ä¿®æ”¹ <code>SpringImportBeanByAnnotationTests</code> æµ‹è¯•ç±»ï¼Œå¢åŠ æµ‹è¯•æ–¹æ³• <code>testBeanFactoryPostProcessor()</code>ï¼Œçœ‹çœ‹èƒ½å¦ä» Spring å®¹å™¨ä¸­è·å– <code>Game</code> ç»„ä»¶ï¼Œä»è€ŒéªŒè¯é€šè¿‡å®ç° <code>BeanFactoryPostProcessor</code> åç½®å¤„ç†å™¨æ¥å£è¿™ç§æ–¹å¼æ˜¯å¦å¯ä»¥å¾€ Spring ä¸­æ³¨å†Œ <code>Bean</code>ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testBeanFactoryPostProcessor</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Game</span> game <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Game</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>game<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šå¯ä»¥çœ‹åˆ°å¯ä»¥ä» Spring å®¹å™¨ä¸­æˆåŠŸè·å–åˆ°é€šè¿‡å®ç° <code>BeanFactoryPostProcessor</code> åç½®å¤„ç†å™¨æ¥å£æ–¹å¼æ³¨å†Œçš„ <code>Bean</code>ã€‚</p> <p><img alt="image-20221102181334654" data-src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/images/202211021813713.png" loading="lazy" class="lazy"></p> <p>è‡³æ­¤ï¼Œå‘ Spring æ³¨å†Œ Bean çš„å‡ ç§æ–¹å¼å°±å·²ç»æˆåŠŸæ¼”ç¤ºå®Œæˆï¼Œå¯èƒ½è¿˜æœ‰å…¶ä»–çš„æ–¹å¼å¯ä»¥å‘ Spring å®¹å™¨ä¸­æ³¨å†Œ Beanï¼Œè¿™å°±éœ€è¦å°ä¼™ä¼´è‡ªå·±å»æ‘¸ç´¢æ€»ç»“äº†ï¼ğŸ‰ğŸ‰ğŸ‰</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/xihuanxiaorang/CodeGuide/edit/main/docs/md/springå…¨å®¶æ¡¶/spring/æºç /Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">2022/11/12</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Springæºç ç¯å¢ƒæ­å»º.html" class="prev">
          Springæºç ç¯å¢ƒæ­å»º
        </a></span> <span class="next"><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Spring-BeanDefinitionåŠ è½½æµç¨‹åˆ†æ.html">
          Spring-BeanDefinitionåŠ è½½æµç¨‹åˆ†æ
        </a>
        â†’
      </span></p></div> </main></div> <aside class="page-sidebar"> <div class="page-side-toolbar"><div class="option-box-toc-fixed"><div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:650px"><div style="font-weight:bold;text-align:center;">Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-ç¯å¢ƒæ­å»º" class="toc-sidebar-link">1. ç¯å¢ƒæ­å»º</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-1-åˆ›å»º-spring-import-bean-study-æ¨¡å—" class="toc-sidebar-link">1.1. åˆ›å»º spring-import-bean-study æ¨¡å—</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-2-å¼•å…¥ç›¸å…³ä¾èµ–" class="toc-sidebar-link">1.2. å¼•å…¥ç›¸å…³ä¾èµ–</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-3-æ—¥å¿—é…ç½®æ–‡ä»¶" class="toc-sidebar-link">1.3. æ—¥å¿—é…ç½®æ–‡ä»¶</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-4-spring-æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="toc-sidebar-link">1.4. Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li></ul></li><li><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-spring-ä¸­æ³¨å†Œ-bean-çš„æ–¹å¼" class="toc-sidebar-link">2. Spring ä¸­æ³¨å†Œ Bean çš„æ–¹å¼</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-1-xml-é…ç½®æ–‡ä»¶æ–¹å¼" class="toc-sidebar-link">2.1. XML é…ç½®æ–‡ä»¶æ–¹å¼</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-2-configuration-bean" class="toc-sidebar-link">2.2. @Configuration + @Bean</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-3-component-componentscan" class="toc-sidebar-link">2.3. @Component + @ComponentScan</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-4-å®ç°-factorybean-æ¥å£" class="toc-sidebar-link">2.4. å®ç° FactoryBean æ¥å£</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-5-import" class="toc-sidebar-link">2.5. @Import</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-6-å®ç°-beandefinitionregistrypostprocessor-åç½®å¤„ç†å™¨æ¥å£" class="toc-sidebar-link">2.6. å®ç° BeanDefinitionRegistryPostProcessor åç½®å¤„ç†å™¨æ¥å£</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-7-å®ç°-beanfactorypostprocessor-åç½®å¤„ç†å™¨æ¥å£" class="toc-sidebar-link">2.7. å®ç° BeanFactoryPostProcessor åç½®å¤„ç†å™¨æ¥å£</a></li></ul></li></ul></div></div></div></div></div> <div class="option-box-toc-over"><img src="/images/system/toc.png" class="nozoom"> <span class="show-txt">ç›®å½•</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><div style="font-weight:bold;text-align:center;">Springæ³¨å†ŒBeançš„å‡ ç§æ–¹å¼</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-ç¯å¢ƒæ­å»º" class="toc-sidebar-link">1. ç¯å¢ƒæ­å»º</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-1-åˆ›å»º-spring-import-bean-study-æ¨¡å—" class="toc-sidebar-link">1.1. åˆ›å»º spring-import-bean-study æ¨¡å—</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-2-å¼•å…¥ç›¸å…³ä¾èµ–" class="toc-sidebar-link">1.2. å¼•å…¥ç›¸å…³ä¾èµ–</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-3-æ—¥å¿—é…ç½®æ–‡ä»¶" class="toc-sidebar-link">1.3. æ—¥å¿—é…ç½®æ–‡ä»¶</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_1-4-spring-æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="toc-sidebar-link">1.4. Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li></ul></li><li><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-spring-ä¸­æ³¨å†Œ-bean-çš„æ–¹å¼" class="toc-sidebar-link">2. Spring ä¸­æ³¨å†Œ Bean çš„æ–¹å¼</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-1-xml-é…ç½®æ–‡ä»¶æ–¹å¼" class="toc-sidebar-link">2.1. XML é…ç½®æ–‡ä»¶æ–¹å¼</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-2-configuration-bean" class="toc-sidebar-link">2.2. @Configuration + @Bean</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-3-component-componentscan" class="toc-sidebar-link">2.3. @Component + @ComponentScan</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-4-å®ç°-factorybean-æ¥å£" class="toc-sidebar-link">2.4. å®ç° FactoryBean æ¥å£</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-5-import" class="toc-sidebar-link">2.5. @Import</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-6-å®ç°-beandefinitionregistrypostprocessor-åç½®å¤„ç†å™¨æ¥å£" class="toc-sidebar-link">2.6. å®ç° BeanDefinitionRegistryPostProcessor åç½®å¤„ç†å™¨æ¥å£</a></li><li class="toc-sidebar-sub-header"><a href="/blog/md/spring%E5%85%A8%E5%AE%B6%E6%A1%B6/spring/%E6%BA%90%E7%A0%81/Spring%E6%B3%A8%E5%86%8CBean%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html#_2-7-å®ç°-beanfactorypostprocessor-åç½®å¤„ç†å™¨æ¥å£" class="toc-sidebar-link">2.7. å®ç° BeanFactoryPostProcessor åç½®å¤„ç†å™¨æ¥å£</a></li></ul></li></ul></div></div></div></div></div> <div class="option-box"><img src="/images/system/toggle.png" width="30px" class="nozoom"> <span class="show-txt">å·¦æ </span></div> <div class="option-box"><img src="/images/system/heart-1.png" width="25px" class="nozoom"> <span class="show-txt">èµèµæˆ‘</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="text-align:center"><span style="font-size:0.8rem;font-weight:bold;">é¼“åŠ±/æ”¯æŒ/èµèµæˆ‘</span> <img height="180px" src="/images/personal/encourage-head.png" style="margin:5px;"> <br>1. ä¸é å®ƒç”Ÿå­˜ä½†ä»å¸Œæœ›å¾—åˆ°ä½ çš„é¼“åŠ±ï¼›
                <br>2. æ—¶åˆ»è­¦é†’è‡ªå·±ä¿æŒæŠ€æœ¯äººçš„åˆå¿ƒï¼Œæ²‰æ·€ï¼Œåˆ†äº«ï¼Œæˆé•¿ï¼›
              </div></div></div></div> <div title="Springæºç ç¯å¢ƒæ­å»º" class="option-box" style="padding-left:2px;text-align:center;"><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Springæºç ç¯å¢ƒæ­å»º.html"><img src="/images/system/pre2.png" width="30px" class="nozoom"> <span class="show-txt">ä¸Šä¸€ç¯‡</span></a></div> <div title="Spring-BeanDefinitionåŠ è½½æµç¨‹åˆ†æ" class="option-box" style="padding-left:2px;text-align:center;"><a href="/blog/md/springå…¨å®¶æ¡¶/spring/æºç /Spring-BeanDefinitionåŠ è½½æµç¨‹åˆ†æ.html"><img src="/images/system/next2.png" width="30px" class="nozoom"> <span class="show-txt">ä¸‹ä¸€ç¯‡</span></a></div></div>  <div class="page-side-sitemap"><div class="option-box"><img src="/images/system/sitemap.png" class="nozoom img"> <span class="show-txt">ç«™ç‚¹å›¾</span> <div class="sitemap-container"><h4>ç«™ç‚¹å¯¼èˆªå›¾
              <a href="/blog/md/about/me/2020-08-25-13å¹´æ¯•ä¸šï¼Œç”¨ä¸¤å¹´æ—¶é—´ä»å¤–åŒ…èµ°è¿›äº’è”ç½‘å¤§å‚.html" class="sitemap-top-link"> å…³äºæˆ‘</a> <a href="/blog/md/about/study/2020-04-30-è®²é“ç†ï¼Œåªè¦ä½ æ˜¯ä¸€ä¸ªçˆ±æŠ˜è…¾çš„ç¨‹åºå‘˜ï¼Œæ¯•ä¸šæ‰¾å·¥ä½œçœŸçš„ä¸éœ€è¦å†èŠ±é’±åŸ¹è®­.html" class="sitemap-top-link"> å…³äºå­¦ä¹ </a> <a href="/blog/md/about/job/2020-11-15-BATJTMDï¼Œå¤§å‚æ‹›è˜ï¼Œéƒ½æ‹›ä»€ä¹ˆæ ·Javaç¨‹åºå‘˜ï¼Ÿ.html" class="sitemap-top-link"> å…³äºèŒåœº</a></h4> <table class="sitemap-table"><tr><td nowrap="nowrap"><div class="sitemap-col-group">å¸¸ç”¨æœç´¢</div></td> <td><div class="sitemap-col-item"><a href="http://www.baidu.com/" target="_blank" title="ç™¾åº¦">  
          ç™¾åº¦
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="http://www.google.com/" target="_blank" title="Google">  
          Google
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="http://www.bing.com/" target="_blank" title="Bing">  
          Bing
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://github.com" target="_blank" title="Github">  
          Github
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://www.programcreek.com/java-api-examples/index.php" target="_blank" title="æœä»£ç ">  
          æœä»£ç 
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></td> <!----></tr><tr><td nowrap="nowrap"><div class="sitemap-col-group">æŠ€æœ¯ç¤¾åŒº</div></td> <td><div class="sitemap-col-item"><a href="http://www.csdn.net/" target="_blank" title="CDSN">  
          CDSN
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="http://www.cnblogs.com/" target="_blank" title="åšå®¢å›­">  
          åšå®¢å›­
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://www.oschina.net" target="_blank" title="OSChina">  
          OSChina
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://segmentfault.com/" target="_blank" title="æ€å¦">  
          æ€å¦
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://juejin.im" target="_blank" title="æ˜é‡‘">  
          æ˜é‡‘
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://www.linuxidc.com/" target="_blank" title="Linuxå…¬ç¤¾">  
          Linuxå…¬ç¤¾
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://www.ibm.com/developerworks/cn/" target="_blank" title="IBM å¼€å‘è€…">  
          IBM å¼€å‘è€…
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="sitemap-col-item"><a href="https://stackoverflow.com" target="_blank" title="StackOverflow">  
          StackOverflow
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></td> <!----></tr><tr><td nowrap="nowrap"><div class="sitemap-col-group">Spring</div></td> <!----> <td><a href="/blog/md/spring/source-code/index.html" class="sitemap-col-item">
          Spring æºç åˆ†æ
        </a></td></tr><tr><td nowrap="nowrap"><div class="sitemap-col-group">é¢å‘å¯¹è±¡</div></td> <!----> <td><a href="/blog/md/develop/design-pattern/index.html" class="sitemap-col-item">
          è®¾è®¡æ¨¡å¼
        </a></td></tr></table></div></div></div> <!----> </aside></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/cg-styles.js?v=1668302853734" defer></script><script src="/blog/assets/js/cg-3.js?v=1668302853734" defer></script><script src="/blog/assets/js/cg-4.js?v=1668302853734" defer></script><script src="/blog/assets/js/cg-27.js?v=1668302853734" defer></script><script src="/blog/assets/js/cg-app.js?v=1668302853734" defer></script>
  </body>
</html>
